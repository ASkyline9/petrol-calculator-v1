<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Petrol Usage Calculator Malaysia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="/assets/petronas-logo.png">
    <meta name="description" content="A simple petrol usage calculator for Malaysian drivers.">
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
    
    <header class="bg-[#00903B] text-white p-4 shadow-lg text-center">
        <h1 class="text-3xl font-bold">Petrol Usage Calculator</h1>
        <p class="text-sm mt-1">Malaysia</p>
    </header>

    <main class="p-4 md:p-8 max-w-2xl mx-auto">
        
        <div class="bg-white p-4 rounded-lg shadow-md mb-6">
            <h2 class="text-xl font-semibold mb-2 text-[#00903B]">Current Petrol Prices (West Malaysia)</h2>
            <div class="flex justify-around text-center">
                <div>
                    <p class="font-bold">RON 95</p>
                    <p class="text-lg" id="price-ron95">RM 2.05</p>
                </div>
                <div>
                    <p class="font-bold">RON 97</p>
                    <p class="text-lg" id="price-ron97">RM 3.47</p>
                </div>
                <div>
                    <p class="font-bold">Diesel</p>
                    <p class="text-lg" id="price-diesel">RM 2.15</p>
                </div>
            </div>
            <p class="text-xs text-gray-500 mt-2 text-center">*Prices are for reference only. Manual input is required for custom prices.</p>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-4">New Entry</h2>
            
            <form id="calculator-form" class="space-y-4">
                
                <div>
                    <label for="mileage" class="block text-sm font-medium text-gray-700">Mileage (KM)</label>
                    <input type="number" id="mileage" name="mileage" placeholder="e.g., 420" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#00903B] focus:border-[#00903B]" required>
                </div>

                <div>
                    <label for="pumpRon" class="block text-sm font-medium text-gray-700">Pump RON</label>
                    <select id="pumpRon" name="pumpRon" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#00903B] focus:border-[#00903B]">
                        <option value="95">RON 95</option>
                        <option value="97">RON 97</option>
                        <option value="Diesel">Diesel</option>
                    </select>
                </div>

                <div>
                    <label for="litersPrice" class="block text-sm font-medium text-gray-700">Price per liter (RM)</label>
                    <input type="number" id="litersPrice" name="litersPrice" placeholder="e.g., 2.05" step="0.01" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#00903B] focus:border-[#00903B]" required>
                </div>

                <div>
                    <label for="pumpAmount" class="block text-sm font-medium text-gray-700">Pump Price (RM)</label>
                    <input type="number" id="pumpAmount" name="pumpAmount" placeholder="e.g., 50" step="0.01" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#00903B] focus:border-[#00903B]" required>
                </div>

                <div>
                    <label for="durationDays" class="block text-sm font-medium text-gray-700">Duration since last pump (Days)</label>
                    <input type="number" id="durationDays" name="durationDays" placeholder="e.g., 5" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm p-2 focus:ring-[#00903B] focus:border-[#00903B]" required>
                </div>

                <button type="submit" class="w-full bg-[#00903B] text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors">
                    Calculate & Save
                </button>
            </form>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md mt-6">
            <h2 class="text-2xl font-bold mb-4">Results & History</h2>
            
            <div id="results" class="bg-gray-50 p-4 rounded-md mb-4 hidden">
                <p class="text-lg font-semibold text-[#00903B]">Calculated KM per RM:</p>
                <p id="km-per-rm" class="text-3xl font-bold mt-1">--</p>
                <p class="text-sm mt-2" id="results-details"></p>
            </div>

            <div id="history-container" class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                            <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mileage</th>
                            <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">RON</th>
                            <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">RM/L</th>
                            <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">KM/RM</th>
                    </tr>
                    </thead>
                    <tbody id="history-body" class="bg-white divide-y divide-gray-200">
                        </tbody>
                </table>
            </div>
            
            <div class="mt-4 flex justify-between">
                <button id="view-all-history" class="text-sm text-[#00903B] hover:underline">View All History</button>
                <button id="reset-history" class="text-sm text-red-500 hover:underline">Reset History</button>
            </div>
        </div>

    </main>
    
    <footer class="text-center text-xs text-gray-500 p-4 mt-8">
        <p>Developed by aa.skyline99@gmail.com</p>
        <p>Design assisted by Gemini</p>
        <p>Copyright logo 2025 | Version 1.0</p>
        <div class="flex justify-center items-center gap-4 mt-2">
           <svg class="h-8 w-8 text-[#00903B]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9962 2C8.59914 2 5.56475 3.93043 3.92429 6.8488C2.28383 9.76717 2.28383 13.4357 3.92429 16.354C5.56475 19.2724 8.59914 21.2028 11.9962 21.2028C14.7779 21.2028 17.3888 20.0833 19.3444 18.2392C19.4678 18.1227 19.5545 17.9701 19.5936 17.8049L12.5649 13.9118C12.4431 13.8443 12.3117 13.7844 12.176 13.7371C10.597 13.1678 9.38753 11.9482 8.81822 10.3692C8.7709 10.2335 8.71101 10.1021 8.64353 9.9803L12.5366 2.95159C12.3714 2.99066 12.2188 3.07736 12.1023 3.20074C10.2582 5.15632 9.13872 7.76722 9.13872 10.5489C9.13872 12.1279 9.25591 13.626 9.48512 15.0118L13.123 16.9238C13.2513 17.027 13.4001 17.1009 13.5606 17.1423C13.6195 17.1578 13.6791 17.1706 13.739 17.1804C14.7826 17.3822 15.8208 17.3822 16.8644 17.1804C16.9243 17.1706 16.9839 17.1578 17.0428 17.1423C17.2033 17.1009 17.3521 17.027 17.4804 16.9238L21.1183 15.0118C21.3475 13.626 21.4647 12.1279 21.4647 10.5489C21.4647 7.76722 20.3452 5.15632 18.5011 3.20074C18.3846 3.07736 18.232 2.99066 18.0668 2.95159L14.1737 8.78477L14.1737 8.78477C14.1207 8.68334 14.0628 8.58332 14.0001 8.48422C13.4308 7.91491 12.7235 7.42777 11.9962 7.04169C11.3934 6.72659 10.7412 6.46731 10.0528 6.27367C9.91712 6.22634 9.78569 6.16645 9.6639 6.09897L5.77079 3.06915L5.77079 3.06915C5.60559 3.03008 5.45299 3.11678 5.33647 3.24016C3.49235 5.19574 2.37285 7.80664 2.37285 10.5883C2.37285 12.1673 2.48995 13.6654 2.71926 15.0512L6.35712 16.9632C6.48541 17.0664 6.6342 17.1403 6.79468 17.1817C6.85355 17.1972 6.91316 17.2101 6.97305 17.2198C8.01664 17.4216 9.05481 17.4216 10.0984 17.2198C10.1583 17.2101 10.2179 17.1972 10.2768 17.1817C10.4373 17.1403 10.5861 17.0664 10.7144 16.9632L14.3523 15.0512C14.5816 13.6654 14.6987 12.1673 14.6987 10.5883C14.6987 7.80664 13.5792 5.19574 11.7351 3.24016C11.6186 3.11678 11.466 3.03008 11.3008 2.99066L7.4077 5.72757L7.4077 5.72757C7.35473 5.62615 7.2968 5.52613 7.23414 5.42703C6.66483 4.85772 5.95754 4.37058 5.23023 3.9845C4.62742 3.6694 3.97519 3.41012 3.28681 3.21648C3.1511 3.16916 3.01967 3.10927 2.89788 3.04179L2.89788 3.04179Z" fill="currentColor"/>
            </svg>
            <svg class="h-8 w-8 text-red-600" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9996 2C6.47648 2 2.01953 6.45695 2.01953 11.9801C2.01953 17.5032 6.47648 21.9602 11.9996 21.9602C17.5227 21.9602 21.9797 17.5032 21.9797 11.9801C21.9797 6.45695 17.5227 2 11.9996 2ZM11.9996 19.9602C7.57597 19.9602 4.01953 16.4037 4.01953 11.9801C4.01953 7.55648 7.57597 4.00004 11.9996 4.00004C16.4232 4.00004 19.9797 7.55648 19.9797 11.9801C19.9797 16.4037 16.4232 19.9602 11.9996 19.9602Z" fill="currentColor"/>
                <path fill="currentColor" d="M12.0004 16.0353C11.5176 16.0353 11.1215 15.6392 11.1215 15.1564C11.1215 14.6736 11.5176 14.2775 12.0004 14.2775C12.4832 14.2775 12.8793 14.6736 12.8793 15.1564C12.8793 15.6392 12.4832 16.0353 12.0004 16.0353Z"/>
                <path fill="currentColor" d="M11.9996 17.9602C11.5168 17.9602 11.1207 17.5641 11.1207 17.0813C11.1207 16.5985 11.5168 16.2024 11.9996 16.2024C12.4824 16.2024 12.8785 16.5985 12.8785 17.0813C12.8785 17.5641 12.4824 17.9602 11.9996 17.9602Z"/>
                <path fill="currentColor" d="M11.9996 20.0102C11.5168 20.0102 11.1207 19.6141 11.1207 19.1313C11.1207 18.6485 11.5168 18.2524 11.9996 18.2524C12.4824 18.2524 12.8785 18.6485 12.8785 19.1313C12.8785 19.6141 12.4824 20.0102 11.9996 20.0102Z"/>
            </svg>
            <svg class="h-8 w-8 text-[#006A4E]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4Z" fill="currentColor"/>
                <path d="M12 8C10.8954 8 10 8.89543 10 10C10 11.1046 10.8954 12 12 12C13.1046 12 14 11.1046 14 10C14 8.89543 13.1046 8 12 8Z" fill="currentColor"/>
            </svg>
            <svg class="h-8 w-8 text-[#E31837]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z" fill="currentColor"/>
                <path d="M12 4L14.4721 8.94427L20 9.5L16 13.197L16.9443 18.5L12 16L7.05573 18.5L8 13.197L4 9.5L9.52786 8.94427L12 4Z" fill="white"/>
            </svg>
            <svg class="h-8 w-8 text-[#004A9C]" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L14.4721 8.94427L20 9.5L16 13.197L16.9443 18.5L12 16L7.05573 18.5L8 13.197L4 9.5L9.52786 8.94427L12 2Z" fill="currentColor"/>
            </svg>
        </div>
    </footer>
    
    <script src="main.js"></script>
</body>
</html>